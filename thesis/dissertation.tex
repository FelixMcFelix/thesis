% !TeX document-id = {29d93272-0c70-47c0-a2c9-f98f7fffc7db}
% !TeX program = xelatex
% !BIB program = biber

\RequirePackage{pdfmanagement-testphase}

% \documentclass[twoside,hidelink]{glasgowthesis}
\documentclass[twoside,hidelinks]{glasgowthesis}
%\documentclass[nogutter,hidelinks]{glasgowthesis}
%\documentclass[11pt,paper=b5,footinclude,headinclude]{scrbook}
%\usepackage{classicthesis}

% ^^ draft shows overfilled boxes.
% ^^ replace "oneside" with "twoside" to set the gutter correctly for
%    two-sided printing.
% ^^ add "nogutter" option for digital copy (without binding offsets),
%    if printed copy is twoside, use [twoside,nogutter] for digital copy.

\input{"preamble/packages.tex"}
\input{"preamble/bibresources.tex"}
\input{"preamble/fonts.tex"}
\input{"preamble/haxx.tex"}
\input{"preamble/math-terms.tex"}
\input{"preamble/header-cfg.tex"}
\input{"preamble/uofg-colours.tex"}

\captionsetup[marginfigure]{labelfont+=bf}

% Need to call 'makeglossaries'...
\setabbreviationstyle[acronym]{long-short}
\makeglossaries
\input{"glossary.tex"}
\input{"acronyms.tex"}
\glsenableentrycount

%\newcommand{\mytitle}{Online Learning in (and with) the Programmable Dataplane}
\newcommand{\mytitle}{Online Learning on the Programmable Dataplane}
% \newcommand{\mytitle}{Programmable, Data-driven Networks for the Masses}
\newcommand{\myname}{Kyle Andrew Simpson}

\hypersetup{
	colorlinks,
	%draft,
	citecolor=kthesis-cite,
	filecolor=black,
	linkcolor=kthesis-internal,
	urlcolor=kthesis-url,
	linktoc=all,
	pdftitle={\mytitle{}},
	pdfauthor={\myname{}}
}

% =============================================================================
\begin{document}

\pagestyle{empty}

\pagenumbering{gobble}

\DTMlangsetup[en-GB]{showdayofmonth=false}

\title{\mytitle{}}
\author{\myname{}}
%\date{May 2022}
\date{\today}

\maketitle

\cleardoublepage

%\fontfamily{alegreya}\selectfont
%\Alegreya

\newgeometry{textwidth=11.75cm, textheight=24.3cm}
\topmargin -0.74cm
\fancyhfoffset[E,O]{5pt}

\pagenumbering{roman}

\input{"chapters/frontmatter/abstract.tex"} 

\newpage
\vspace*{1.75in}
\begin{flushright}
	\emph{
		\begin{quotation}
			\noindent
			I'm astounded whenever I finish something.
			Astounded and distressed.
			My perfectionist instinct should inhibit me from finishing; it should inhibit me from even beginning.
			But I get distracted and start doing something.
			What I achieve is not the product of an act of will but of my will's surrender.
			I begin because I don't have the strength to think; I finish because I don't have the courage to quit.
			This book is my cowardice.
		\end{quotation}
		---Fernando Pessoa, \emph{The Book of Disquiet} (p.~156)}
\end{flushright}
\makeatletter\@openrightfalse
\input{"chapters/frontmatter/acks.tex"}

\newpage
\input{"chapters/frontmatter/original.tex"} 

\newpage
\input{"chapters/frontmatter/typesetting.tex"}
\@openrighttrue\makeatother 

\cleardoublepage


%\pagenumbering{roman}
%\setcounter{page}{1}

% -----------------------------------------------------------------------------
%\newpage

%\vspace*{1.75in}
%\begin{center} {\bf Education Use Consent}\end{center}
%\noindent I hereby give my permission for this project to be shown to other
%University of Glasgow students and to be distributed in an electronic
%format. {\bf Please note that you are under no obligation to sign this
%  declaration, but doing so would help future students. }

%\begin{description}
%\item [Your Name]\ \\ \ \\ \ \\
%\HRule
%\end{description}
%\addcontentsline{toc}{chapter}{Education Use Consent}

% -----------------------------------------------------------------------------
%\newpage

% -----------------------------------------------------------------------------

% -----------------------------------------------------------------------------
%\newpage
%\thispagestyle{empty}
\microtypesetup{protrusion=false}
\pdfbookmark[chapter]{\contentsname}{toc}
{\hypersetup{hidelinks}\sffamily\setlength{\parskip}{3pt plus 1pt minus 1pt}\tableofcontents\setlength{\parskip}{9pt plus 1pt minus 1pt}}
\makeatletter\@openrightfalse
\listoftables
\listoffigures
\listofalgorithms
\microtypesetup{protrusion=true}

%\printglossary
\setlist[description]{leftmargin=!, labelwidth=4em}
{\setlength{\parskip}{3pt plus 1pt minus 1pt}\printglossary[type=\acronymtype]\setlength{\parskip}{9pt plus 1pt minus 1pt}}
\setlist[description]{style=standard}
\setlist[description]{font={\itshape\bfseries\sffamily}}
\@openrighttrue\makeatother

% -----------------------------------------------------------------------------
\cleardoublepage
% Reset page numbering
\pagestyle{fancy}
\pagenumbering{arabic}
\setcounter{page}{1}
% Number chapter boomarks
\bookmarksetup{numbered}


% -----------------------------------------------------------------------------
% Introduction and research problem
%\part{Background}
\input{"chapters/p1-introduction/ch1-intro/root.tex"}

% -----

%\part{Background}
\input{"chapters/p1-introduction/ch2-pdp/root.tex"}
\input{"chapters/p1-introduction/ch3-ddn/root.tex"}

% -----

%\part{Improving Deployability}

\input{"chapters/p2-papers/ch4-ddos/root.tex"}
\input{"chapters/p2-papers/ch5-opal/root.tex"}

% -----

%\part{Enabling New Use Cases}

\input{"chapters/p2-papers/ch6-seidr/root.tex"}

%\chapter{Dynamic Fault Detection}

%\part{Conclusions}

\input{"chapters/p3-conc/ch7-conc/root.tex"}

% -----------------------------------------------------------------------------

%\part{Appendices}
\appendix
\renewcommand\chaptername{Appendix}

\input{"chapters/appendices/appendix-caida.tex"}
\input{"chapters/appendices/appendix-opus.tex"}
\input{"chapters/appendices/appendix-nfp.tex"}
\input{"chapters/appendices/appendix-opal-proto.tex"}

% -----------------------------------------------------------------------------
\newpage
%\makeatletter
%\let\ps@plain=\ps@fancy
%\makeatother


% Bibliography
\renewcommand*{\mkbibnamefamily}[1]{\textsc{#1}}
\renewcommand*{\mkbibnameprefix}[1]{\textsc{#1}}
\chapter*{References}
\addcontentsline{toc}{chapter}{References}
\markboth{References}{}
\sloppy
%\printbibliography[title={References},]
\printbibliography[heading=none]
\fussy

\end{document}

